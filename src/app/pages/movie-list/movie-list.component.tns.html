<Page>
  <ActionBar>
    <GridLayout rows="*, *, *">
      <Button row="0" class="show-drawer-btn" text="☰" (tap)="showDrawer()"></Button>
  
      <Label row="1" class="page-title" text="GERENCIAR FILMES"></Label>
  
      <Label row="2" class="page-subtitle" text="Cadastre, edite ou remova filmes da sua lista"></Label>
    </GridLayout>
  </ActionBar>

  <StackLayout>
    <!-- new movie container -->
    <GridLayout class="new-movie-container" columns="*, auto">
      <TextField [(ngModel)]="newMovieTitle" col="0" hint="Título do Filme"></TextField>

      <Button col="1" text="+" (tap)="createMovie()"></Button>
    </GridLayout>

     <!-- movie list -->
    <ListView [items]="movies">
      <ng-template let-movie="item">
        <GridLayout class="movie-container" columns="auto, *, auto">

          <Label class="movie-rating" col="0" text="{{movie.rating}}⭐"></Label>

          <StackLayout col="1">
            <Label class="movie-title" [text]="movie.title"></Label>
            <Label class="movie-obs" [text]="movie.obs"></Label>
          </StackLayout>

          <StackLayout col="2" class="movie-actions">
            <Label class="delete-movie-btn" (tap)="deleteMovie(movie)" text="❌"></Label>
            <Label class="watch-next-flag" (tap)="toggleMovieWatchNext(movie)" [class.marked]="movie.toWatchNext" text="🍿"></Label>
          </StackLayout>

        </GridLayout>
      </ng-template>
    </ListView>
  </StackLayout>
</Page>